# 质押 Staking

权益质押是锁定加密货币来获取奖励的行为。

## 权益证明POS (Proof of Staking)

质押首先产生于ＰＯＳ，为了减少ＰＯＷ的弊端发展出来的一种新的共识机制。

所以质押只相对于去中心化网络，比如币安上面的质押更像是定期存款，他不能减少流通量，相反因为提供杠杆而增加。

对于POS衍生出来的其他非网络治理代币（包括LP代币）的质押，由于并不涉及网络共识，其作用可以理解为：

1. 通过通货膨胀奖励代币持有者
    a. 提高代币需求
    b. 逐步释放代币供给，增加代币接受群体
2. 通过质押减少代币流通量提高币价
3. 取消质押提款一般有冷却期限，防止市场恐慌出现挤兑

4. 分布式自治组织ＤＡＯ可以通过代币质押赋予持有者提案投票权

## 奖励计算

* 验证者所质押的代币数量
* 验证者主动进行权益质押的时长
* 质押到网络上的代币总数
* 通货膨胀率
* 其他因素

## 质押期限

分定期和活期两种方式：

### AVAX

用户设定质押期限，到期之后本息自动返回账户。
缺点：操作不便，设置太长的质押期限，代币不能提前取出。设置太短，用户又要不断手动复投。

### SOL, BNB

质押之后分周期计算奖励并自动复投，如要停止质押，需要提前申请，在下一周期结束之后将代币返回账户。
比较灵活，并且因为冷却期的存在一定程度上能避免市场恐慌引起的抛售。

## 质押池

由于定期和活期质押方式都不能做到随时取现，市场上会有第三方设立质押池，通过预留流动资金来保证取现的灵活性，用户只需要付出很小一部分利息损失。

但是质押池由于转移了控制权，会增加用户资产风险。

而且有的质押池本身不会将资产用于质押而是借贷等分布式金融领域，进一步增加用户资产风险。

## 实现方案

> 活期自动复投

参考ERC规范 https://eips.ethereum.org/EIPS/eip-900

### 链上合约

质押：用户质押将代币存入质押合约，合约标记当前区块高度，质押合约除锁定之外不能转移代币至其他地址（不能脱离用户控制原则）。

取消质押：将代币存入冷却合约，设置时间锁

取现：冷却到期后用户从冷却合约中取现